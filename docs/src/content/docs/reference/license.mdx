---
title: License API
description: An overview of the License API
---

import { Tabs, TabItem } from '@astrojs/starlight/components';

## CreateLicense

### GraphQL

```graphql
mutation CreateLicense {
  createLicense(
    input: {
      id: "00000000-0000-0000-0000-000000000000"
      userId: "00000000-0000-0000-0000-000000000000"
      start: "2023-11-16T12:00:00Z"
      end: "2024-01-16T12:00:00Z"
    }
  ) {
    license {
      id
      userId
      start
      end
    }
  }
}
```

### Connect

<Tabs>
  <TabItem label="HTTPie">
  ```shell
  pkgx http POST \
    http://localhost:9092/license.v1beta1.LicenseService/CreateLicense <<<'
    {
      "id": "00000000-0000-0000-0000-000000000000",
      "userId": "00000000-0000-0000-0000-000000000000",
      "start": "2023-11-16T12:00:00Z",
      "end": "2024-01-16T12:00:00Z"
    }
    '
  ```
  </TabItem>
  <TabItem label="curl">
  ```shell
  curl -v http://localhost:9092/license.v1beta1.LicenseService/CreateLicense \
    -H "Content-Type: application/json" \
    --data-binary @- <<EOF
    {
      "id": "00000000-0000-0000-0000-000000000000",
      "userId": "00000000-0000-0000-0000-000000000000",
      "start": "2023-11-16T12:00:00Z",
      "end": "2024-01-16T12:00:00Z"
    }
  EOF
  ```
  </TabItem>
  <TabItem label="grpcurl">
  ```shell
  pkgx grpcurl \
    -use-reflection \
    -plaintext \
    -d @ localhost:9092 \
    license.v1beta1.LicenseService/CreateLicense <<EOM
  {
    "id": "00000000-0000-0000-0000-000000000000",
    "userId": "00000000-0000-0000-0000-000000000000",
    "start": "2023-11-16T12:00:00Z",
    "end": "2024-01-16T12:00:00Z"
  }
  EOM
  ```
  </TabItem>
</Tabs>

#### Response

```json
{
  "license": {
    "id": "00000000-0000-0000-0000-000000000000",
    "userId": "00000000-0000-0000-0000-000000000000",
    "start": "2023-11-16T12:00:00Z",
    "end": "2024-01-16T12:00:00Z"
  }
}
```

### REST

<Tabs>
  <TabItem label="HTTPie">
  ```shell
  pkgx http \
    http://localhost:9092/licenses/00000000-0000-0000-0000-000000000000 \
      id="00000000-0000-0000-0000-000000000000" \
      userId="00000000-0000-0000-0000-000000000000" \
      start="2023-11-16T12:00:00Z" \
      end="2024-01-16T12:00:00Z"
  ```
  </TabItem>
  <TabItem label="curl">
  ```shell
  curl -v http://localhost:9092/licenses/00000000-0000-0000-0000-000000000000 \
    -H "Content-Type: application/json" \
    --data-binary @- <<EOF
    {
      "id": "00000000-0000-0000-0000-000000000000",
      "userId": "00000000-0000-0000-0000-000000000000",
      "start": "2023-11-16T12:00:00Z",
      "end": "2024-01-16T12:00:00Z"
    }
  EOF
  ```
  </TabItem>
</Tabs>

## GetLicense

### GraphQL

```graphql
query GetLicense {
  getLicense: license(id: "220d4191-6bb0-49de-a912-31b4d43e14b5") {
    license {
      id
      userId
      start
      end
    }
  }
}
```

#### Response

```json
{
  "data": {
    "getLicense": {
      "license": {
        "id": "220d4191-6bb0-49de-a912-31b4d43e14b5",
        "userId": "4759a80d-4665-45d6-a87a-9ae1b4c4c873",
        "start": "2023-11-16T12:00:00Z",
        "end": "2024-01-16T12:00:00Z"
      }
    }
  }
}
```

### Connect

<Tabs>
  <TabItem label="HTTPie">
  ```shell
  pkgx http POST \
    http://localhost:9092/license.v1beta1.LicenseService/GetLicense <<<'
    {
      "id": "220d4191-6bb0-49de-a912-31b4d43e14b5"
    }
    '
  ```
  </TabItem>
  <TabItem label="curl">
  ```shell
  curl -v http://localhost:9092/license.v1beta1.LicenseService/GetLicense \
    -H "Content-Type: application/json" \
    --data-binary @- <<EOF
    {
      "id": "220d4191-6bb0-49de-a912-31b4d43e14b5"
    }
  EOF
  ```
  </TabItem>
  <TabItem label="grpcurl">
  ```shell
  pkgx grpcurl \
    -use-reflection \
    -plaintext \
    -d @ localhost:9092 \
    license.v1beta1.LicenseService/GetLicense <<EOM
  {
    "id": "220d4191-6bb0-49de-a912-31b4d43e14b5"
  }
  EOM
  ```
  </TabItem>
</Tabs>

#### Response

```json
{
  "license": {
    "end": "2024-01-16T12:00:00Z",
    "id": "220d4191-6bb0-49de-a912-31b4d43e14b5",
    "start": "2023-11-16T12:00:00Z",
    "userId": "4759a80d-4665-45d6-a87a-9ae1b4c4c873"
  }
}
```

### REST

<Tabs>
  <TabItem label="HTTPie">
  ```shell
  pkgx http \
    http://localhost:9092/licenses/220d4191-6bb0-49de-a912-31b4d43e14b5
  ```
  </TabItem>
  <TabItem label="curl">
  ```shell
  curl -v http://localhost:9092/licenses/220d4191-6bb0-49de-a912-31b4d43e14b5
  ```
  </TabItem>
</Tabs>
