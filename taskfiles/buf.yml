version: '3'

tasks:
  gen:
    internal: true
    run: once
    aliases:
      - generate
    desc: "Generate protobufs"
    cmd: pkgx buf@latest generate

  format:
    run: once
    aliases:
      - fmt
    cmd: pkgx buf@latest format -w

  lint:
    run: once
    deps:
      - format
    cmd: pkgx buf@latest lint

  docs:
    cmd: pkgx buf@latest mod open idl/temporalapis